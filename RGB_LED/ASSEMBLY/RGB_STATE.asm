.EQU SWITCHES    = 0x20
.EQU CHANGE_MODE = 0x22
.EQU SEVEN_SEG   = 0x81
.EQU RED_LED     = 0x52
.EQU GRN_LED     = 0x53
.EQU BLU_LED     = 0x54


.CSEG
.ORG 0x01

	SEI
	
	INIT:
		MOV R0, 0x00
	
	MAIN:
		IN R1, SWITCHES
		CMP R0, 0x01
		BREQ OUT_RED
		CMP R0, 0x02
		BREQ OUT_GREEN
		CMP R0, 0x03
		BREQ OUT_BLUE
		CMP R0, 0x04
		BREQ OUTPUT_VALUES
		BRN INIT
	
	
	OUT_RED: 
		MOV R3, R1
		BRN MAIN
	
	OUT_GREEN: 
		MOV R4, R1
		BRN MAIN
	
	OUT_BLUE: 
		MOV R5, R1
		BRN MAIN
	
	OUTPUT_VALUES: 
		OUT R3, RED_LED
		OUT R4, GRN_LED
		OUT R5, BLU_LED
		BRN INIT
	
	
	
	ISR: 
		ADD R0, 0x01
		OUT R0, SEVEN_SEG
		RETIE
	
.ORG 0x3FF
	VECTOR: BRN ISR
