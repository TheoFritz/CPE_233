.EQU IN_PORT = 0x9A
.EQU OUT_PORT = 0X42


.CSEG
.ORG 0x01
MOV R0, 0x00
READ_VALE_LOOP: IN R1, IN_PORT
CMP R1, 0xFF
BREQ POP_LOOP
PUSH R1
ADD R0, 0X01
BRN READ_VALE_LOOP

POP_LOOP:
POP R1
SUB R0, 0X01
OUT R1, OUT_PORT
CMP R0, 0X00
BRNE POP_LOOP
BREQ END

END:
