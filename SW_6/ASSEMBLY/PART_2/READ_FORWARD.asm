.EQU IN_PORT = 0x9A
.EQU OUT_PORT = 0X42


.CSEG
.ORG 0x01

MOV R0, 0x00
MOV R3, 0x00
READ_VALUE_LOOP: IN R1, IN_PORT
CMP R1, 0xFF
BREQ LOAD_LOOP
PUSH R1
ADD R0, 0X01
BRN READ_VALUE_LOOP

LOAD_LOOP:
LD R2,(R1)
SUB R1, 0x01
ADD R3, 0x01
OUT R2, OUT_PORT
CMP R3,R0
BREQ END
BRNE LOAD_LOOP


END:
